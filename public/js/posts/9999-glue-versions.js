// Importing Chart.js via CDN instead of module specifier
const script = document.createElement("script");
script.src = "https://cdn.jsdelivr.net/npm/chart.js";
script.type = "text/javascript";
script.onload = function () {
  (async function () {
    // Start of the actual plot code
    const data_dbt_execution_time = {
      labels: [
        "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10",
        "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19",
        "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28",
        "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06",
        "2025-04-07", "2025-04-08"
      ],
      datasets: [
        {
          label: "daily",
          borderColor: "#3a76ff",
          backgroundColor: "#3a76ff",
          data: [
            111.63, 119.69, 116.13, 108.73, 126.4, 110.7, 106.92, 102.81, 114.2, 115.77, 108.99, 109.8, 118.63, 120.35, 111.56,
            124.91, 120.9, 116.31, 129.99, 118.94, 121.23, 127.56, 131.78, 124.82, 131.55, 132.46, 129.75, 124.65, 129.6, 130.05,
            134.9, 127.59, 59.99, 60.3, 61.96, 60.38, 58.07, 57.01
          ],
          pointRadius: 1
        },
        {
          label: "hourly",
          borderColor: "#ffc33a",
          backgroundColor: "#ffc33a",
          data: [
            58.06, 58.73, 60.42, 59.96, 62.3, 60.87, 60.26, 58.66, 59.23, 58.82, 59.48, 63.97, 64.4, 62.88, 62.03, 62.53, 63.68,
            64.73, 67.06, 66.78, 63.87, 66.12, 68.07, 66.9, 68.48, 68.98, 67.94, 65.3, 68.78, 69.56, 71.75, 34.55, 16.51, 16.82,
            16.99, 16.12, 15.6, 15.06
          ],
          pointRadius: 1
        }
      ]
    };
    const options_dbt_execution_time = {
      plugins: {
        title: {
          display: true,
          text: 'DBT execution time [mins]'
        }
      }
    }
    new Chart("plot-dbt-execution-time", {
      type: "line",
      data: data_dbt_execution_time,
      options: options_dbt_execution_time
    });


    const data_tables_versions = {
      labels: [
        1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,
        34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 61, 62, 63, 64, 66,
        67, 69, 74, 75, 76, 77, 78, 80, 81, 82, 84, 87, 90, 91, 92, 93, 94, 95, 96, 97, 99, 101, 102, 105, 107, 111, 112, 114, 115,
        118, 123, 125, 129, 131, 132, 133, 135, 136, 137, 139, 140, 141, 143, 144, 146, 151, 152, 153, 154, 155, 156, 158, 159, 160,
        163, 166, 167, 169, 171, 179, 180, 181, 183, 186, 190, 191, 194, 196, 197, 198, 199, 203, 205, 207, 208, 209, 210, 211, 215,
        217, 221, 223, 225, 237, 239, 242, 245, 248, 249, 262, 263, 272, 275, 288, 290, 291, 292, 296, 297, 298, 304, 305, 307, 311,
        318, 323, 325, 327, 328, 332, 335, 343, 349, 364, 365, 368, 371, 376, 379, 383, 384, 385, 388, 391, 392, 393, 394, 395, 396,
        397, 399, 400, 401, 402, 403, 404, 406, 409, 412, 414, 415, 416, 417, 418, 421, 422, 423, 426, 427, 429, 430, 431, 432, 433,
        434, 435, 436, 437, 439, 440, 441, 445, 446, 452, 468, 482, 485, 486, 505, 507, 510, 523, 524, 530, 532, 545, 554, 555, 560,
        565, 567, 568, 571, 572, 573, 574, 576, 590, 601, 610, 617, 618, 620, 625, 626, 627, 628, 659, 701, 703, 706, 707, 717, 718,
        730, 736, 738, 751, 758, 763, 786, 791, 800, 805, 834, 844, 883, 920, 930, 931, 941, 948, 951, 973, 980, 984, 1007, 1008,
        1015, 1021, 1037, 1042, 1044, 1055, 1112, 1129, 1131, 1132, 1134, 1139, 1163, 1189, 1200, 1206, 1208, 1222, 1249, 1253, 1298,
        1343, 1429, 1439, 1440, 1518, 1584, 1670, 1742, 1789, 1844, 1848, 1852, 1853, 1874, 1878, 1879, 1888, 1890, 1898, 1900, 1906,
        1921, 1922, 1935, 1970, 1986, 1997, 2063, 2064, 2105, 2169, 2186, 2216, 2342, 2431, 2677, 2800, 2803, 2806, 2814, 2816, 2837,
        2930, 3136, 3243, 3244, 3245, 3264, 3410, 3488, 3580, 3601, 3605, 3607, 3609, 3626, 3645, 3655, 3656, 3657, 3658, 3661, 3664,
        3667, 3680, 3686, 3687, 3689, 3700, 3720, 3721, 3734, 3744, 4194, 4201, 4238, 4308, 4389, 4531, 4542, 4573, 4577, 4601, 4603,
        4616, 5207, 5253, 5481
      ],
      datasets: [
        {
          label: "before",
          borderColor: "#FF5722",
          backgroundColor: "#FF5722",
          data: [
            216, 209, 203, 196, 190, 184, 177, 171, 165, 159, 153, 147, 141, 135, 129, 124, 118, 112, 106, 100, 95, 89, 83, 77, 72,
            66, 60, 55, 49, 44, 39, 34, 29, 24, 19, 15, 12, 9, 6, 5, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2,
            2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5,
            0, 6, 6, 6, 0, 6, 6, 6, 0, 6, 6, 6, 6, 6, 6, 6, 6, 6, 0, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5,
            4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
            7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
          ],
          pointRadius: 1
        },
        {
          label: "now",
          borderColor: "#22C55E",
          backgroundColor: "#22C55E",
          data: [
            1552, 1148, 769, 397, 131, 94, 65, 39, 31, 31, 29, 20, 6, 1, 2, 6, 8, 11, 40, 99, 137, 153, 151, 0, 112, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0,
            0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 7, 19,
            29, 0, 0, 0, 0, 0, 0, 0, 0, 34, 35, 26, 16, 6, -4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
          ],
          pointRadius: 1
        }
      ]
    };
    const options_tables_versions = {
      scales: {
        x: {
          type: 'logarithmic',
          title: {
            display: true,
            text: 'Version Count'
          }
        },
        y: {
          type: 'logarithmic',
          title: {
            display: true,
            text: 'Smoothed Table Count'
          }
        }
      },
      plugins: {
        title: {
          display: true,
          text: 'Number of versions by table'
        }
      }
    }
    new Chart("plot-table-versions", {
      type: "line",
      data: data_tables_versions,
      options: options_tables_versions
    });

    // End of the plot code

  })();
};
document.head.appendChild(script);
