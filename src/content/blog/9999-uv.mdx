---
slug: xx
title: xx
meta_title: xx
description: xx
date: 2025-03-07
image: /images/blog/9999-handling-dbt-failures.jpg
category: DE
tags: []
draft: false
---

## What is `uv`?

`uv` is a modern package and environment manager for Python that is designed to be **fast, lightweight, and user-friendly**. Unlike traditional tools like `pip` and `virtualenv`, `uv` focuses on performance and simplicity while maintaining full compatibility with existing Python ecosystems.

I used to recommend Poetry (<FancyLink linkText="Managing Package Versions with Poetry" url="https://villoro.com/blog/managing-package-versions-with-poetry/" />) for dependency management. However, after using `uv`, I find it superior due to its **speed**, **simplicity**, and **straightforward project setup**.

---

## Installing `uv`

You can install `uv` with:

```bash
pip install uv
```

To check if `uv` is installed correctly, run:

```bash
uv --version
```

---

## Creating and Managing Projects

### Creating a Virtual Environment

A major feature of `uv` is its fast virtual environment management:

```bash
uv venv .venv
```

You can also specify a Python version:

```bash
uv venv --python=3.11 .venv
```

If a `.python-version` file exists, `uv` will automatically use the specified version.

### Initializing a Project

To create a new Python project with `uv`, initialize a `pyproject.toml` file:

```bash
uv init
```

This will prompt you to enter project details like name, version, and dependencies.

---

## Installing Dependencies

Install packages like you would with `pip`:

```bash
uv pip install requests pandas
```

To install packages in **editable mode** (useful for development environments and CI/CD):

```bash
uv pip install --editable .
```

This ensures your local code changes reflect immediately when running scripts.

---

## Running Python Scripts with `uv`

One of the best features of `uv` is that you can **execute scripts directly in the virtual environment without activating it**.

For a simple script:

```bash
uv run python script.py
```

If your project follows a `src`-based layout, use module execution:

```bash
uv run python -m src.main
```

This prevents `ModuleNotFoundError` and ensures proper package resolution.

---

## Exporting Dependencies

To generate a `requirements.txt` file:

```bash
uv export --format requirements-txt > requirements.txt
```

For CI/CD workflows, you can use `pre-commit` to ensure dependencies are always up-to-date:

```yaml
- repo: https://github.com/astral-sh/uv-pre-commit
  rev: 0.6.3
  hooks:
    - id: uv-export
      args: ["--no-hashes", "--frozen", "--output-file=requirements.txt"]
```

---

## Running Tests with `uv`

To run tests inside the virtual environment:

```bash
uv run pytest
```

For GitHub Actions:

```yaml
unit_tests:
  runs-on: ubuntu-latest
  steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4

    - name: Install UV
      run: pip install uv

    - name: Set up virtual environment
      run: uv venv .venv

    - name: Install dependencies
      run: uv pip install --editable .

    - name: Run tests
      run: uv run pytest .
```

---

## Publishing to PyPI

To build and publish a package to PyPI using `uv`:

```bash
uv build
uv publish
```

For automation, add this to GitHub Actions:

```yaml
jobs:
  publish_pypi:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4

    - name: Install uv
      run: pip install uv

    - name: Build
      run: uv build

    - name: Publish
      run: uv publish
```

---

## Conclusion

`uv` is a **powerful, fast, and modern** alternative to traditional Python package managers. It simplifies dependency management, virtual environments, and CI/CD workflows while improving performance. If you're looking for a **lightweight yet feature-rich** alternative to Poetry or pip, `uv` is worth trying!

