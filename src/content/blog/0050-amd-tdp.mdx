---
slug: control-amd-cpu-temperatures
title: How to Control AMD CPU Temperatures
meta_title: Managing AMD CPU Temperatures Automatically at Startup
description: Learn how to control your AMD CPU's temperatures by configuring TDP limits to apply automatically at startup using Task Scheduler in Windows.
date: 2024-07-18
image: /images/blog/0050-amd-tdp.jpg
category: others
tags: [Guide, Setup, Performance, Windows]
draft: false
---

<script type="module" src="/js/posts/0050-amd-tdp.js"></script>

## 0. Motivation

Last year I bought a <FancyLink linkText="Geekom AS6" url="https://www.geekompc.com/geekom-as-6-mini-pc/"/> and I'm really happy about it.
It has an integrated GPU (680M) that allows me to play most modern games at 1080p, such as Resident Evil 4 Remake.
I bought it since it's almost identical to the <FancyLink linkText="Asus PN53" url="https://www.asus.com/displays-desktops/mini-pcs/pn-series/asus-expertcenter-pn53/"/> and that gave me the confidence to buy from what was an unknown brand at the time.

It has been working really well until summer arrived.
Due to temperatures the CPU was shutting down because of excesive temperatures.

## 1. What's the problem

I have been using <FancyLink linkText="Open Hardware Monitor" url="https://openhardwaremonitor.org/"/> to track and store multiple data from the computer. Such as temperatures, load and watts.

My computer has a <FancyLink linkText="Ryzen 7 6800H" url="https://www.amd.com/en/product/11546"/> processor.
It has a default TDP of 45W but can be set up between 35W to 54W.
And the **max temperature is 95ºC**.

The problem I had is that when it had a high load in summer, temperatures were too high: 

<canvas id="stats_without_limits" style="width:100%;height:300px;"></canvas>

<Notice type="danger">
  The CPU was around 97 ºC which is higher than the max 95 ºC.
  Whenever it reached 100 ºC the computer automatically turned off to prevent damages.
</Notice>

<Notice type="info">
  The CPU load looks low because I was gaming at the time (GPU intensive).
  GPU load is not tracked nor included in the CPU load and that is why it looks like the computer was close to idle.
</Notice>

## 2. Regular ways to control temperatures

### 2.1. Changing TDP on the BIOS

### 2.2. Undervolting

https://www.msi.com/Landing/afterburner/graphics-cards

### 2.3. Dedicated software

<FancyLink linkText="AMD Software: Adrenalin Edition™ Application" url="https://www.amd.com/en/products/software/adrenalin.html"/>
<FancyLink linkText="AMD Ryzen™ Master Utility for Overclocking Control" url="https://www.amd.com/en/products/software/ryzen-master.html"/>

## 3. Using RyzenAdj

<FancyLink linkText="RyzenAdj" url="https://github.com/FlyGoat/RyzenAdj" dark="true"/>

### 3.1. Check current setup

```sh
ryzenadj.exe -i
```
<Notice type="warning">
  Must be run as an Administrator.
</Notice>

| Name                | Value | Limit                                                 | Parameter         |
|---------------------|------:|------------------------------------------------------:|-------------------|
| STAPM               |   8.0 | <span style="background-color:PaleGreen;">35.0</span> | stapm-limit       |
| PPT FAST            |  14.8 |    <span style="background-color:Salmon;">65.0</span> | fast-limit        |
| PPT SLOW            |   8.3 |    <span style="background-color:Salmon;">54.0</span> | slow-limit        |
| StapmTimeConst      |   nan |                                                       | stapm-time        |
| SlowPPTTimeConst    |   nan |                                                       | slow-time         |
| PPT APU             |   0.0 |                                                  54.0 | apu-slow-limit    |
| TDC VDD             |   5.7 |                                                  55.0 | vrm-current       |
| TDC SOC             |   2.2 |                                                  15.0 | vrmsoc-current    |
| EDC VDD             |  70.4 |                                                 130.0 | vrmmax-current    |
| EDC SOC             |   0.1 |                                                  20.0 | vrmsocmax-current |
| THM CORE            |  53.0 |    <span style="background-color:Salmon;">98.0</span> | tctl-temp         |
| STT APU             |   0.0 |                                                   0.0 | apu-skin-temp     |
| STT dGPU            |   0.0 |                                                   0.0 | dgpu-skin-temp    |
| CCLK Boost SETPOINT |   nan |                                                       | power-saving /    |
| CCLK BUSY VALUE     |   nan |                                                       | max-performance   |

### 3.2. Limit TDP and Temperature

```sh
ryzenadj.exe --stapm-limit=40000 --fast-limit=45000 --slow-limit=40000 --tctl-temp=90 -i
```

| Name                | Value | Limit                                                 | Parameter         |
|---------------------|------:|------------------------------------------------------:|-------------------|
| STAPM               |   8.0 | <span style="background-color:PaleGreen;">40.0</span> | stapm-time        |
| PPT FAST            |  14.8 | <span style="background-color:PaleGreen;">45.0</span> | fast-limit        |
| PPT SLOW            |   8.3 | <span style="background-color:PaleGreen;">40.0</span> | slow-limit        |
| THM CORE            |  53.0 | <span style="background-color:PaleGreen;">90.0</span> | tctl-temp         |

## 4. Stress testing

https://benchmarks.ul.com/3dmark
https://www.aida64.com/downloads

<canvas id="stats_with_limits" style="width:100%;height:300px;"></canvas>

## 5. Limit TDP at start up
