---
slug: one-environment-prod
title: One Environment to Rule Them All
meta_title: One Environment to Rule Them All - Rethinking Dev, Test, and Prod
description: Do we really need dev, test, and sandbox? Explore the case for a single prod environment, how dbt handles it, how to run Python this way, and the pros and cons of going prod-only.
date: 2025-09-01
image: /images/blog/9999-glass-bridge.jpg
category: DE
tags: [Python, dbt, DE, Environments]
draft: false
---

## 1. Why multiple environments exist

### 1.1 The traditional setup: dev, test, sandbox, prod

In software and data engineering, it’s common to separate work into multiple environments. Code is built in **dev**, validated in **test/staging**, sometimes explored in a **sandbox**, and only then deployed to **prod**. The idea is simple: keep experiments and errors away from the systems that matter.

* **Dev**: engineers build and debug on small or sample data.
* **Test/Staging**: a near-prod copy used to check everything works end-to-end.
* **Sandbox**: optional space for ad-hoc experiments or prototyping.
* **Prod**: the live environment, running on real data and serving the business.

This layering reduces risk by catching problems earlier and isolating them from production.

### 1.2 What problems they try to solve

Multiple environments exist to:

* **Test safely** – experiment without risking real data.
* **Prevent data loss** – mistakes in dev/test don’t wipe out prod tables.
* **Contain breaking changes** – issues surface in lower envs first.
* **Enable collaboration** – teams can work in parallel without stepping on prod.
* **Support CI/CD** – changes move gradually from dev → test → prod, with checks at each step.

In short: more environments mean more guardrails before code reaches production.



## 2. The DBT perspective

### 2.1 How DBT handles environments

### 2.2 Switching targets with profiles

### 2.3 CI/CD workflows


## 3. One environment to rule them all

### 3.1 Running Python with only prod

### 3.2 Techniques: config flags, feature toggles, schema separation

### 3.3 Real-world patterns


## 4. Pros and cons

### 4.1 Advantages: simplicity, less drift, fewer surprises

### 4.2 Risks: less safe experimentation, higher blast radius

### 4.3 Mitigation strategies


## 5. Closing thoughts

### 5.1 When it makes sense to go prod-only

### 5.2 When you probably still want multiple environments
