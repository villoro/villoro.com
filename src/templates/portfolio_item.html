{% extends "base.html" %}

{% block body %}
  <!-- spacer -->
  <div style="padding-top: 64px"></div>

  <!-- SECTION: Introduction -->
  <div class="w3-padding-32 w3-content" style="max-width:1200px">

    <!-- title and subtitle -->
    <div class="w3-padding-large"> <!-- This helps having text aligned with other blocks (2 divs with padding) -->
      <!-- container with titles and link -->
      <div class="w3-row">
        <div class="w3-left">
          <h1>{{ title }}</h1>
          
        </div>

        {% if link %}
        <!-- Button with more info -->
        <div class="w3-right" style="padding-top: 20px">
          <a href="{{ link.get("url") }}" class="w3-button v-color-accent w3-round-xxlarge w3-hover-amber">
            {{ link.get("text", "More info") }} <i class="fa fa-angle-right"></i>
          </a>
        </div>
        {% endif %}
      </div>

      <div class="w3-row">
        <p>{{ subtitle }}</p>
      </div>
    </div>


    <div class="w3-row">
      <!-- Image -->
      <div class="w3-col m6 w3-padding-large w3-center">
        <img src="{{ url_for("static", filename="images/portfolio/{}".format(image)) }}" class="w3-image" alt="{{ image.split(".")[0] }}" style="width: 100%; max-width: 800px;">
      </div>

      <!-- Brief -->
      <div class="w3-col m6 w3-padding-large">
        <h2>Brief</h2>
        <!-- Raw html block -->
        {% autoescape false %} {{ brief }} {% endautoescape %}
      </div>
    </div>
  </div>

  {% if tags %}
  <!-- SECTION: body -->
  <div class="v-padding-24h w3-content" style="max-width:1200px;">
    <div>
      {% for x in tags %}
        <span class="w3-tag v-color-accent">{{ x }}</span>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- SECTION: metrics -->
  {% if metrics %}
  <div class="w3-padding-32 w3-content" style="max-width:1200px;">
    <div class="v-padding-8h">
      <div class="v-padding-16h">
        <h4>Some numbers</h4>
      </div>
      <div class="w3-row">
        {% for x in metrics %}
          <div class="w3-col m4 w3-padding">
            <div class="w3-panel w3-border w3-border-grey w3-center">
              <p>{{ x }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endif %}

  <!-- SECTION: motivation -->
  <div class="v-color-light-grey">
    <div class="w3-padding-32 w3-content" style="max-width:1200px;">
      <div class="w3-padding-large"> <!-- This helps having text aligned with other blocks (2 divs with padding) -->
          <h2>Motivation</h2>
          <!-- Raw html block -->
          {% autoescape false %} {{ motivation }} {% endautoescape %}
      </div>
    </div>
  </div>

  <!-- SECTION: solution -->
  <div class="w3-padding-32 w3-content" style="max-width:1200px;">
    <div class="w3-padding-large"> <!-- This helps having text aligned with other blocks (2 divs with padding) -->

        <!-- If present show body -->
        {% if body %}
          <div style="padding-bottom: 32px">
            {% autoescape false %} {{ body }} {% endautoescape %}
          </div>
        {% endif %}

        <h2>Solution</h2>
        <!-- Raw html block -->
        {% autoescape false %} {{ solution }} {% endautoescape %}
    </div>
  </div>

  <!-- SECTION: More projects blue banner -->
  <div class="w3-display-container">
    <a href="{{ url_for('portfolio') }}">
      <img src="{{ url_for("static", filename="images/project_bar.jpg") }}" alt="Lights" style="width:100%; max-height: 200px">

      <!-- large screens -->
      <div class="w3-display-middle w3-hide-medium w3-hide-small" style="max-width:1200px;">
        <h1w>More Projects</h1w>
      </div>
      
      <!-- medium and small screens -->
      <div class="w3-display-left w3-hide-large" style="max-width:1200px;">
        <h1w class="w3-padding-large">More Projects</h1w>
      </div>
    </a>
  </div>

  <!-- SECTION: Grid with highlited projects -->
  <div class="w3-display-container">
    <div class="w3-row">
      {% for port in portfolio.values() %}
      <div class="w3-col l2 m2 s4 w3-hover-grayscale">
        <a href="{{ url_for('portfolio_item', item="{}.html".format(port["code"])) }}">
          <img src="{{ url_for("static", filename="images/portfolio/{}".format(port["image_square"])) }}"" alt="{{ port["title"] }}" class="w3-image">
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}